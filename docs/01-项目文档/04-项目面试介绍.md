# YouTube Planner - 项目面试介绍

## 🎯 项目概述

**YouTube Planner** 是一个全栈Web应用，专为YouTube内容创作者设计的视频脚本管理系统。该项目展示了现代Web开发的完整技术栈，从前端用户界面到后端API，再到云端部署的全流程实现。

### 📊 项目规模
- **开发周期**: 3个月
- **代码量**: 前端约8000行，后端约12000行
- **功能模块**: 6个核心模块
- **部署环境**: AWS云端生产环境

## 🏗️ 技术架构

### 前端技术栈
```
React 18 + TypeScript
├── 状态管理: React Hooks + Context API
├── 路由管理: React Router v6
├── HTTP客户端: Axios (带拦截器)
├── UI组件: 自定义组件 + CSS3
├── 构建工具: Create React App + Webpack
└── 类型检查: TypeScript 4.9+
```

### 后端技术栈
```
Spring Boot 3.0 + Java 17
├── 数据访问: Spring Data JPA + MyBatis
├── 安全认证: Spring Security + JWT
├── 数据库: PostgreSQL 15
├── 容器化: Docker + Docker Compose
├── 构建工具: Maven
└── 监控: Spring Boot Actuator
```

### 部署架构
```
GitHub Actions (CI/CD)
    ↓
AWS EC2 (t2.micro)
    ↓
Docker Containers
├── Nginx (反向代理 + SSL)
├── React App (前端)
├── Spring Boot (后端)
└── PostgreSQL (数据库)
```

## 💡 核心功能模块

### 1. 用户认证系统
**技术实现**:
- JWT双Token机制（Access Token + Refresh Token）
- 自动Token刷新，提升用户体验
- 基于角色的访问控制（RBAC）

**亮点**:
```javascript
// 前端自动Token刷新机制
api.interceptors.response.use(
  response => response,
  async error => {
    if (error.response?.status === 401 && !originalRequest._retry) {
      // 自动刷新Token逻辑
      const refreshToken = localStorage.getItem('refreshToken');
      const response = await api.post('/auth/refresh', { refreshToken });
      // 重新发送原始请求
      return api(originalRequest);
    }
  }
);
```

### 2. 脚本管理系统
**功能特性**:
- 支持多章节脚本编辑
- 脚本版本控制
- 分类和标签管理
- 搜索和筛选功能

**技术实现**:
```java
// 后端分页查询优化
@Query("SELECT s FROM Script s WHERE " +
       "(:search IS NULL OR s.title LIKE %:search%) AND " +
       "(:categoryId IS NULL OR s.category.id = :categoryId)")
Page<Script> findScriptsWithFilters(
    @Param("search") String search,
    @Param("categoryId") Long categoryId,
    Pageable pageable
);
```

### 3. 频道管理
**业务价值**:
- 支持多频道管理
- 频道数据统计
- 脚本与频道关联

### 4. 数据统计分析
**实现方式**:
- 实时统计脚本数量
- 频道活跃度分析
- 用户行为追踪

## 🔧 技术亮点与解决方案

### 1. 前后端分离架构
**设计理念**:
- RESTful API设计规范
- 统一的响应格式
- 完善的错误处理机制

**API响应格式**:
```json
{
  "success": true,
  "code": 200,
  "message": "操作成功",
  "data": {...},
  "timestamp": "2024-12-19T10:30:00Z",
  "request_id": "uuid-string"
}
```

### 2. 数据库设计优化
**表结构设计**:
```sql
-- 用户表
CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 脚本表（支持软删除）
CREATE TABLE scripts (
    script_id SERIAL PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    user_id INTEGER REFERENCES users(user_id),
    channel_id INTEGER REFERENCES channels(channel_id),
    status VARCHAR(20) DEFAULT 'draft',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**优化策略**:
- 建立合适的索引提升查询性能
- 使用外键约束保证数据完整性
- 软删除机制保护重要数据

### 3. 安全性设计
**多层安全防护**:
```java
// CORS配置
@CrossOrigin(origins = "https://youtubeplanner.duckdns.org")
@RestController
public class ScriptController {
    // API实现
}

// SQL注入防护
@Query("SELECT s FROM Script s WHERE s.user.id = :userId")
List<Script> findByUserId(@Param("userId") Long userId);
```

**安全措施**:
- HTTPS全站加密
- JWT Token安全存储
- CORS跨域限制
- SQL注入防护
- XSS攻击防护

### 4. 性能优化
**前端优化**:
- 组件懒加载
- 图片压缩和缓存
- API请求去重
- 本地存储优化

**后端优化**:
- 数据库连接池配置
- 分页查询减少内存占用
- 缓存策略（计划中）

## 🚀 DevOps与部署

### 1. CI/CD流水线
**GitHub Actions工作流**:
```yaml
name: Deploy to AWS EC2
on:
  push:
    branches: [ main, clean-deploy ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - name: Build Frontend
      run: |
        cd frontendytp
        npm ci
        CI=false npm run build
    
    - name: Build Backend
      run: |
        cd BackendYTP
        mvn clean package -DskipTests
    
    - name: Deploy to EC2
      # 自动部署到生产环境
```

**部署特点**:
- 零停机部署
- 自动化测试
- 回滚机制
- 健康检查

### 2. 容器化部署
**Docker配置**:
```dockerfile
# 后端Dockerfile
FROM openjdk:17-jdk-slim
COPY target/backend-0.0.1-SNAPSHOT.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "/app.jar"]
```

**优势**:
- 环境一致性
- 快速扩展
- 资源隔离
- 易于维护

### 3. 云端架构
**AWS部署方案**:
- **EC2**: t2.micro实例（免费套餐）
- **域名**: DuckDNS免费域名服务
- **SSL**: Let's Encrypt免费证书
- **监控**: Spring Boot Actuator

## 🎯 项目亮点总结

### 技术深度
1. **全栈开发能力**: 独立完成前后端开发
2. **现代技术栈**: React + Spring Boot + PostgreSQL
3. **云端部署**: AWS + Docker + CI/CD
4. **安全意识**: 多层安全防护机制

### 工程能力
1. **代码质量**: TypeScript类型安全 + 统一代码规范
2. **架构设计**: 模块化设计 + 分层架构
3. **性能优化**: 数据库优化 + 前端性能优化
4. **运维能力**: 自动化部署 + 监控告警

### 业务理解
1. **用户体验**: 响应式设计 + 流畅交互
2. **业务逻辑**: 完整的内容管理流程
3. **数据设计**: 合理的数据库结构
4. **扩展性**: 支持多用户 + 多频道

## 🗣️ 面试要点

### 技术问题准备

**Q: 为什么选择这个技术栈？**
A: 
- React生态成熟，TypeScript提供类型安全
- Spring Boot开发效率高，生态丰富
- PostgreSQL性能优秀，支持复杂查询
- Docker容器化便于部署和扩展

**Q: 遇到的最大技术挑战是什么？**
A: 
- **502错误排查**: 通过分析Nginx日志和Docker网络，发现容器端口映射问题
- **JWT Token刷新**: 实现无感知的Token自动刷新机制
- **数据库连接**: 从Supabase迁移到本地PostgreSQL，解决网络连接问题

**Q: 如何保证代码质量？**
A:
- TypeScript静态类型检查
- ESLint代码规范检查
- 统一的API响应格式
- 完善的错误处理机制

### 项目展示要点

1. **演示顺序**: 
   - 用户注册/登录 → 创建频道 → 编写脚本 → 数据统计

2. **技术亮点**:
   - 展示自动Token刷新
   - 演示响应式设计
   - 展示实时数据更新

3. **部署成果**:
   - 线上访问地址: https://youtubeplanner.duckdns.org
   - GitHub仓库: https://github.com/sanuei/YoutubePlanner

## 📈 未来规划

### 技术升级
- [ ] 引入Redis缓存提升性能
- [ ] 实现WebSocket实时通信
- [ ] 添加Elasticsearch全文搜索
- [ ] 微服务架构改造

### 功能扩展
- [ ] 移动端适配
- [ ] 多语言支持
- [ ] 数据导出功能
- [ ] 协作编辑功能

### 运维优化
- [ ] 监控告警系统
- [ ] 自动化测试覆盖
- [ ] 性能监控分析
- [ ] 数据备份策略

---

## 💼 面试建议

### 准备材料
1. **项目演示**: 准备5-10分钟的功能演示
2. **代码展示**: 挑选几个核心代码片段
3. **架构图**: 准备系统架构图和数据库设计图
4. **问题解决**: 准备几个技术难点的解决过程

### 表达要点
1. **技术选型理由**: 每个技术选择都要有合理解释
2. **问题解决能力**: 重点描述遇到的挑战和解决方案
3. **学习能力**: 展示在项目中学到的新技术
4. **工程思维**: 强调代码质量、性能优化、安全考虑

### 加分项
- **线上可访问**: 有实际部署的项目更有说服力
- **完整文档**: 体现良好的工程习惯
- **持续优化**: 展示对项目的持续改进
- **技术深度**: 能够深入讲解核心技术实现

这个项目展示了你的**全栈开发能力**、**工程实践能力**和**问题解决能力**，是一个很好的面试项目！

---

**项目地址**: https://youtubeplanner.duckdns.org  
**GitHub**: https://github.com/sanuei/YoutubePlanner  
**技术栈**: React + TypeScript + Spring Boot + PostgreSQL + AWS + Docker 