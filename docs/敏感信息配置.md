# æ•æ„Ÿä¿¡æ¯é…ç½®æ–‡æ¡£

âš ï¸ **è­¦å‘Šï¼šæ­¤æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å‹¿ä¸Šä¼ åˆ°å…¬å…±ä»“åº“**

## ğŸ” JWTé…ç½®

### JWTå¯†é’¥
```
JWT_SECRET=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970
JWT_ACCESS_TOKEN_EXPIRATION=3600
JWT_REFRESH_TOKEN_EXPIRATION=604800
```

## ğŸ—„ï¸ æ•°æ®åº“é…ç½®

### ç”Ÿäº§ç¯å¢ƒ - PostgreSQL (æœ¬åœ°å®¹å™¨)
```
SPRING_DATASOURCE_URL=jdbc:postgresql://database:5432/youtubeplanner
SPRING_DATASOURCE_USERNAME=youtubeplanner
SPRING_DATASOURCE_PASSWORD=youtubeplanner123
```

### å†å²é…ç½® - Supabase (å·²å¼ƒç”¨)
```
SPRING_DATASOURCE_URL=jdbc:postgresql://db.nvcagxykymgtmprggwhy.supabase.co:5432/postgres
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=OtvO9P8X36b3up5x
```

## ğŸŒ åŸŸåå’ŒSSLé…ç½®

### DuckDNSé…ç½®
```
åŸŸå: youtubeplanner.duckdns.org
Token: 2a6b1938-8078-4553-a435-af0b72dfd3c6
```

### SSLè¯ä¹¦è·¯å¾„
```
SSL_CERT_PATH=/etc/letsencrypt/live/youtubeplanner.duckdns.org/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/youtubeplanner.duckdns.org/privkey.pem
```

## â˜ï¸ AWSé…ç½®

### EC2å®ä¾‹ä¿¡æ¯
```
å…¬ç½‘IP: 35.77.213.182
åŒºåŸŸ: ap-northeast-1 (ä¸œäº¬)
å®ä¾‹ç±»å‹: t2.micro
æ“ä½œç³»ç»Ÿ: Amazon Linux 2
```

### SSHè¿æ¥
```
SSHå‘½ä»¤: ssh -i ".././test.pem" ec2-user@ec2-35-77-213-182.ap-northeast-1.compute.amazonaws.com
å¯†é’¥æ–‡ä»¶: .././test.pem
ç”¨æˆ·å: ec2-user
```

## ğŸ”§ GitHub Actions Secrets

### å¿…éœ€çš„Secrets
```
EC2_HOST=35.77.213.182
EC2_USER=ec2-user
EC2_SSH_KEY=<SSHç§é’¥å†…å®¹>
```

## ğŸŒ ç¯å¢ƒå˜é‡é…ç½®

### å‰ç«¯ç¯å¢ƒå˜é‡
```
REACT_APP_API_BASE_URL=https://youtubeplanner.duckdns.org/api/v1
```

### åç«¯ç¯å¢ƒå˜é‡
```
SPRING_PROFILES_ACTIVE=prod
CORS_ALLOWED_ORIGINS=https://youtubeplanner.duckdns.org
```

## ğŸ“§ é‚®ä»¶é…ç½® (å¯é€‰)
```
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
```

## ğŸ”„ DuckDNSè‡ªåŠ¨æ›´æ–°è„šæœ¬
```bash
# æ›´æ–°è„šæœ¬å†…å®¹
echo url="https://www.duckdns.org/update?domains=youtubeplanner&token=2a6b1938-8078-4553-a435-af0b72dfd3c6&ip=" | curl -k -o ~/duckdns/duck.log -K -

# Cronä»»åŠ¡
*/5 * * * * ~/duckdns/duck.sh >/dev/null 2>&1
```

## ğŸ›¡ï¸ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **å®šæœŸæ›´æ¢å¯†ç **ï¼šå»ºè®®æ¯3-6ä¸ªæœˆæ›´æ¢æ•°æ®åº“å¯†ç 
2. **JWTå¯†é’¥è½®æ¢**ï¼šç”Ÿäº§ç¯å¢ƒåº”å®šæœŸæ›´æ¢JWTå¯†é’¥
3. **SSLè¯ä¹¦ç»­æœŸ**ï¼šLet's Encryptè¯ä¹¦æ¯90å¤©è‡ªåŠ¨ç»­æœŸ
4. **è®¿é—®æ§åˆ¶**ï¼šé™åˆ¶SSHè®¿é—®IPèŒƒå›´
5. **å¤‡ä»½åŠ å¯†**ï¼šæ‰€æœ‰å¤‡ä»½æ–‡ä»¶åº”åŠ å¯†å­˜å‚¨

## ğŸ“ å¯†ç å¼ºåº¦è¦æ±‚

- **æ•°æ®åº“å¯†ç **ï¼šè‡³å°‘12ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦
- **JWTå¯†é’¥**ï¼š256ä½éšæœºå­—ç¬¦ä¸²
- **ç”¨æˆ·å¯†ç **ï¼šè‡³å°‘8ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦

---

**åˆ›å»ºæ—¶é—´**: 2024å¹´12æœˆ19æ—¥  
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ19æ—¥  
**çŠ¶æ€**: ğŸ”’ æœºå¯†æ–‡æ¡£ 